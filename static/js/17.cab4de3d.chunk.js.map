{"version":3,"sources":["../node_modules/@material-ui/lab/esm/internal/svg-icons/SuccessOutlined.js","../node_modules/@material-ui/lab/esm/internal/svg-icons/ReportProblemOutlined.js","../node_modules/@material-ui/lab/esm/internal/svg-icons/ErrorOutline.js","../node_modules/@material-ui/lab/esm/internal/svg-icons/InfoOutlined.js","../node_modules/@material-ui/lab/esm/internal/svg-icons/Close.js","../node_modules/@material-ui/lab/esm/Alert/Alert.js","hooks/useApproveTaxOffice.ts","hooks/useProvideTombFtmLP.ts","views/Liquidity/Liquidity.js","hooks/useRefresh.ts","state/transactions/hooks.tsx","hooks/useHandleTransactionReceipt.ts","components/Input/Input.tsx","components/TokenInput/TokenInput.tsx","hooks/useAllowance.ts","hooks/useApprove.ts","hooks/useTombStats.ts","hooks/useLpStats.ts","assets/img/home.png"],"names":["createSvgIcon","React","d","defaultIconMapping","success","SuccessOutlinedIcon","fontSize","warning","ReportProblemOutlinedIcon","error","ErrorOutlineIcon","info","InfoOutlinedIcon","_ref","CloseIcon","Alert","props","ref","action","children","classes","className","_props$closeText","closeText","color","icon","_props$iconMapping","iconMapping","onClose","_props$role","role","_props$severity","severity","_props$variant","variant","other","_objectWithoutProperties","Paper","_extends","square","elevation","clsx","root","concat","capitalize","message","IconButton","size","title","onClick","withStyles","theme","getColor","palette","type","darken","lighten","getBackgroundColor","typography","body2","borderRadius","shape","backgroundColor","display","padding","standardSuccess","main","standardInfo","standardWarning","standardError","outlinedSuccess","border","outlinedInfo","outlinedWarning","outlinedError","filledSuccess","fontWeight","fontWeightMedium","filledInfo","filledWarning","filledError","marginRight","opacity","alignItems","marginLeft","paddingLeft","name","ApprovalState","APPROVE_AMOUNT","ethers","constants","MaxUint256","APPROVE_BASE_AMOUNT","BigNumber","from","useApproveTaxOffice","tombFinance","useTombFinance","token","TOMB","pendingApproval","useHasPendingApproval","address","TAX_OFFICE_ADDR","currentAllowance","useAllowance","approvalState","useMemo","FTM","APPROVED","lt","PENDING","NOT_APPROVED","UNKNOWN","addTransaction","useTransactionAdder","approve","useCallback","a","console","response","summary","symbol","approval","tokenAddress","spender","useProvideTombFtmLP","handleTransactionReceipt","useHandleTransactionReceipt","onProvideTombFtmLP","ftmAmount","tombAmount","tombAmountBn","parseUnits","provideTombFtmLP","BackgroundImage","createGlobalStyle","HomeImage","isNumeric","n","isNaN","parseFloat","isFinite","ProvideLiquidity","useState","setTombAmount","setFtmAmount","lpTokensAmount","setLpTokensAmount","balance","useWallet","tombStats","useTombStats","approveTaxOfficeStatus","approveTaxOffice","tombBalance","useTokenBalance","ftmBalance","toFixed","tombFtmLpStats","useLpStats","tombLPStats","tombPriceInFTM","Number","tokenInFtm","ftmPriceInTOMB","handleTombChange","e","currentTarget","value","quoteFromSpooky","handleFtmChange","tokenAmount","handleTombSelectMax","getDisplayBalance","handleFtmSelectMax","Page","Typography","align","gutterBottom","Grid","container","justify","Box","style","width","marginBottom","href","rel","target","item","xs","sm","mt","p","TokenInput","onSelectMax","onChange","max","justifyContent","textAlign","Button","toString","margin","useRefresh","useContext","RefreshContext","fastRefresh","fast","slowRefresh","slow","chainId","account","dispatch","useDispatch","hash","Error","useAllTransactions","state","useSelector","transactions","allTransactions","Object","keys","some","tx","receipt","Date","getTime","addedTime","isTransactionRecent","addPopup","useAddPopup","promise","then","catch","err","includes","toLowerCase","slice","stack","StyledInputWrapper","styled","div","grey","spacing","StyledInput","input","Input","endAdornment","placeholder","startAdornment","StyledTokenInput","StyledSpacer","StyledTokenAdornmentWrapper","StyledMaxText","toLocaleString","allowance","setAllowance","fetchAllowance","useEffect","useApprove","stat","setStat","getTombStat","fetchTombPrice","lpTicker","getLPStat","fetchLpPrice","module","exports"],"mappings":"kMAMeA,cAA4BC,gBAAoB,OAAQ,CACrEC,EAAG,8OACD,mBCFWF,cAA4BC,gBAAoB,OAAQ,CACrEC,EAAG,qFACD,yBCFWF,cAA4BC,gBAAoB,OAAQ,CACrEC,EAAG,4KACD,gBCFWF,cAA4BC,gBAAoB,OAAQ,CACrEC,EAAG,8MACD,gBCFWF,cAA4BC,gBAAoB,OAAQ,CACrEC,EAAG,0GACD,S,iBC8IAC,EAAqB,CACvBC,QAAsBH,gBAAoBI,EAAqB,CAC7DC,SAAU,YAEZC,QAAsBN,gBAAoBO,EAA2B,CACnEF,SAAU,YAEZG,MAAoBR,gBAAoBS,EAAkB,CACxDJ,SAAU,YAEZK,KAAmBV,gBAAoBW,EAAkB,CACvDN,SAAU,aAIVO,EAAoBZ,gBAAoBa,EAAW,CACrDR,SAAU,UAGRS,EAAqBd,cAAiB,SAAee,EAAOC,GAC9D,IAAIC,EAASF,EAAME,OACfC,EAAWH,EAAMG,SACjBC,EAAUJ,EAAMI,QAChBC,EAAYL,EAAMK,UAClBC,EAAmBN,EAAMO,UACzBA,OAAiC,IAArBD,EAA8B,QAAUA,EACpDE,EAAQR,EAAMQ,MACdC,EAAOT,EAAMS,KACbC,EAAqBV,EAAMW,YAC3BA,OAAqC,IAAvBD,EAAgCvB,EAAqBuB,EACnEE,EAAUZ,EAAMY,QAChBC,EAAcb,EAAMc,KACpBA,OAAuB,IAAhBD,EAAyB,QAAUA,EAC1CE,EAAkBf,EAAMgB,SACxBA,OAA+B,IAApBD,EAA6B,UAAYA,EACpDE,EAAiBjB,EAAMkB,QACvBA,OAA6B,IAAnBD,EAA4B,WAAaA,EACnDE,EAAQC,YAAyBpB,EAAO,CAAC,SAAU,WAAY,UAAW,YAAa,YAAa,QAAS,OAAQ,cAAe,UAAW,OAAQ,WAAY,YAEvK,OAAoBf,gBAAoBoC,IAAOC,YAAS,CACtDR,KAAMA,EACNS,QAAQ,EACRC,UAAW,EACXnB,UAAWoB,kBAAKrB,EAAQsB,KAAMtB,EAAQ,GAAGuB,OAAOT,GAASS,OAAOC,YAAWpB,GAASQ,KAAaX,GACjGJ,IAAKA,GACJkB,IAAiB,IAATV,EAA8BxB,gBAAoB,MAAO,CAClEoB,UAAWD,EAAQK,MAClBA,GAAQE,EAAYK,IAAa7B,EAAmB6B,IAAa,KAAmB/B,gBAAoB,MAAO,CAChHoB,UAAWD,EAAQyB,SAClB1B,GAAqB,MAAVD,EAA8BjB,gBAAoB,MAAO,CACrEoB,UAAWD,EAAQF,QAClBA,GAAU,KAAgB,MAAVA,GAAkBU,EAAuB3B,gBAAoB,MAAO,CACrFoB,UAAWD,EAAQF,QACLjB,gBAAoB6C,IAAY,CAC9CC,KAAM,QACN,aAAcxB,EACdyB,MAAOzB,EACPC,MAAO,UACPyB,QAASrB,GACRf,IAAS,SAmFCqC,iBAtRK,SAAgBC,GAClC,IAAIC,EAAkC,UAAvBD,EAAME,QAAQC,KAAmBC,IAASC,IACrDC,EAA4C,UAAvBN,EAAME,QAAQC,KAAmBE,IAAUD,IACpE,MAAO,CAELb,KAAMJ,YAAS,GAAIa,EAAMO,WAAWC,MAAO,CACzCC,aAAcT,EAAMU,MAAMD,aAC1BE,gBAAiB,cACjBC,QAAS,OACTC,QAAS,aAIXC,gBAAiB,CACfzC,MAAO4B,EAASD,EAAME,QAAQjD,QAAQ8D,KAAM,IAC5CJ,gBAAiBL,EAAmBN,EAAME,QAAQjD,QAAQ8D,KAAM,IAChE,UAAW,CACT1C,MAAO2B,EAAME,QAAQjD,QAAQ8D,OAKjCC,aAAc,CACZ3C,MAAO4B,EAASD,EAAME,QAAQ1C,KAAKuD,KAAM,IACzCJ,gBAAiBL,EAAmBN,EAAME,QAAQ1C,KAAKuD,KAAM,IAC7D,UAAW,CACT1C,MAAO2B,EAAME,QAAQ1C,KAAKuD,OAK9BE,gBAAiB,CACf5C,MAAO4B,EAASD,EAAME,QAAQ9C,QAAQ2D,KAAM,IAC5CJ,gBAAiBL,EAAmBN,EAAME,QAAQ9C,QAAQ2D,KAAM,IAChE,UAAW,CACT1C,MAAO2B,EAAME,QAAQ9C,QAAQ2D,OAKjCG,cAAe,CACb7C,MAAO4B,EAASD,EAAME,QAAQ5C,MAAMyD,KAAM,IAC1CJ,gBAAiBL,EAAmBN,EAAME,QAAQ5C,MAAMyD,KAAM,IAC9D,UAAW,CACT1C,MAAO2B,EAAME,QAAQ5C,MAAMyD,OAK/BI,gBAAiB,CACf9C,MAAO4B,EAASD,EAAME,QAAQjD,QAAQ8D,KAAM,IAC5CK,OAAQ,aAAa5B,OAAOQ,EAAME,QAAQjD,QAAQ8D,MAClD,UAAW,CACT1C,MAAO2B,EAAME,QAAQjD,QAAQ8D,OAKjCM,aAAc,CACZhD,MAAO4B,EAASD,EAAME,QAAQ1C,KAAKuD,KAAM,IACzCK,OAAQ,aAAa5B,OAAOQ,EAAME,QAAQ1C,KAAKuD,MAC/C,UAAW,CACT1C,MAAO2B,EAAME,QAAQ1C,KAAKuD,OAK9BO,gBAAiB,CACfjD,MAAO4B,EAASD,EAAME,QAAQ9C,QAAQ2D,KAAM,IAC5CK,OAAQ,aAAa5B,OAAOQ,EAAME,QAAQ9C,QAAQ2D,MAClD,UAAW,CACT1C,MAAO2B,EAAME,QAAQ9C,QAAQ2D,OAKjCQ,cAAe,CACblD,MAAO4B,EAASD,EAAME,QAAQ5C,MAAMyD,KAAM,IAC1CK,OAAQ,aAAa5B,OAAOQ,EAAME,QAAQ5C,MAAMyD,MAChD,UAAW,CACT1C,MAAO2B,EAAME,QAAQ5C,MAAMyD,OAK/BS,cAAe,CACbnD,MAAO,OACPoD,WAAYzB,EAAMO,WAAWmB,iBAC7Bf,gBAAiBX,EAAME,QAAQjD,QAAQ8D,MAIzCY,WAAY,CACVtD,MAAO,OACPoD,WAAYzB,EAAMO,WAAWmB,iBAC7Bf,gBAAiBX,EAAME,QAAQ1C,KAAKuD,MAItCa,cAAe,CACbvD,MAAO,OACPoD,WAAYzB,EAAMO,WAAWmB,iBAC7Bf,gBAAiBX,EAAME,QAAQ9C,QAAQ2D,MAIzCc,YAAa,CACXxD,MAAO,OACPoD,WAAYzB,EAAMO,WAAWmB,iBAC7Bf,gBAAiBX,EAAME,QAAQ5C,MAAMyD,MAIvCzC,KAAM,CACJwD,YAAa,GACbjB,QAAS,QACTD,QAAS,OACTzD,SAAU,GACV4E,QAAS,IAIXrC,QAAS,CACPmB,QAAS,SAIX9C,OAAQ,CACN6C,QAAS,OACToB,WAAY,SACZC,WAAY,OACZC,YAAa,GACbJ,aAAc,MAkJc,CAChCK,KAAM,YADOpC,CAEZnC,I,qFC3RSwE,E,8OAHNC,EAAiBC,IAAOC,UAAUC,WAClCC,EAAsBC,IAAUC,KAAK,8B,SAE/BP,O,qBAAAA,I,+BAAAA,I,qBAAAA,I,wBAAAA,M,KAoDGQ,I,EAAAA,EA5Cf,WACE,IAAMC,EAAcC,cAChBC,EAAeF,EAAYG,KAIzBC,EAAkBC,YAAsBH,EAAMI,QAASC,KACvDC,EAAmBC,YAAaP,EAAOK,IAAiBH,GAGxDM,EAA+BC,mBAAQ,WAE3C,OAAIT,IAAUF,EAAYY,IAAYrB,EAAcsB,SAC/CL,EAGEA,EAAiBM,GAAGlB,GACvBQ,EACEb,EAAcwB,QACdxB,EAAcyB,aAChBzB,EAAcsB,SAPYtB,EAAc0B,UAQ3C,CAACT,EAAkBJ,EAAiBF,EAAOF,IAExCkB,EAAiBC,cAEjBC,EAAUC,sBAAW,sBAAC,4BAAAC,EAAA,yDACtBZ,IAAkBnB,EAAcyB,aADV,uBAExBO,QAAQ9G,MAAM,oCAFU,0CAMHyF,EAAMkB,QAAQb,IAAiBf,GAN5B,OAMpBgC,EANoB,OAO1BN,EAAeM,EAAU,CACvBC,QAAQ,WAAD,OAAavB,EAAMwB,QAC1BC,SAAU,CACRC,aAAc1B,EAAMI,QACpBuB,QAAStB,OAXa,2CAczB,CAACG,EAAeR,EAAOgB,IAE1B,MAAO,CAACR,EAAeU,I,0BCrCVU,EAjBa,WAC1B,IAAM9B,EAAcC,cACd8B,EAA2BC,cAYjC,MAAO,CAAEC,mBAVsBZ,uBAC7B,SAACa,EAAmBC,GAClB,IAAMC,EAAeC,qBAAWF,GAChCJ,EACE/B,EAAYsC,iBAAiBJ,EAAWE,GADlB,8BAECD,EAFD,YAEeD,EAFf,kBAEkC3B,QAG5D,CAACP,EAAa+B,M,UCDZQ,EAAkBC,YAAH,kIAECC,KAItB,SAASC,EAAUC,GACjB,OAAQC,MAAMC,WAAWF,KAAOG,SAASH,GAG3C,IA8HeI,EA9HU,WACvB,MAAoCC,mBAAS,GAA7C,mBAAOb,EAAP,KAAmBc,EAAnB,KACA,EAAkCD,mBAAS,GAA3C,mBAAOd,EAAP,KAAkBgB,EAAlB,KACA,EAA4CF,mBAAS,GAArD,mBAAOG,EAAP,KAAuBC,EAAvB,KACQC,EAAYC,cAAZD,QACFE,EAAYC,cACZxD,EAAcC,cACpB,EAAmDF,IAAnD,mBAAO0D,EAAP,KAA+BC,EAA/B,KACMC,EAAcC,YAAgB5D,EAAYG,MAC1C0D,GAAcR,EAAU,MAAMS,QAAQ,GACpC7B,EAAuBH,IAAvBG,mBACF8B,EAAiBC,YAAW,eAE5BC,EAActD,mBAAQ,kBAAOoD,GAAkC,OAAO,CAACA,IACvEG,EAAiBvD,mBAAQ,kBAAO4C,EAAYY,OAAOZ,EAAUa,YAAYN,QAAQ,GAAK,OAAO,CAACP,IAC9Fc,EAAiB1D,mBAAQ,kBAAO4C,EAAYY,OAAO,EAAIZ,EAAUa,YAAYN,QAAQ,GAAK,OAAO,CAACP,IAGlGe,EAAgB,uCAAG,WAAOC,GAAP,eAAAjD,EAAA,yDACO,KAA1BiD,EAAEC,cAAcC,OAA0C,IAA1BF,EAAEC,cAAcC,OAClDxB,EAAcsB,EAAEC,cAAcC,OAE3B/B,EAAU6B,EAAEC,cAAcC,OAJR,wDAKvBxB,EAAcsB,EAAEC,cAAcC,OALP,SAMOzE,EAAY0E,gBAAgBH,EAAEC,cAAcC,MAAO,QAN1D,OAMjBC,EANiB,OAOvBxB,EAAawB,GACbtB,EAAkBsB,EAAkBT,EAAY/B,WARzB,2CAAH,sDAWhByC,EAAe,uCAAG,WAAOJ,GAAP,eAAAjD,EAAA,yDACQ,KAA1BiD,EAAEC,cAAcC,OAA0C,IAA1BF,EAAEC,cAAcC,OAClDvB,EAAaqB,EAAEC,cAAcC,OAE1B/B,EAAU6B,EAAEC,cAAcC,OAJT,wDAKtBvB,EAAaqB,EAAEC,cAAcC,OALP,SAMQzE,EAAY0E,gBAAgBH,EAAEC,cAAcC,MAAO,OAN3D,OAMhBC,EANgB,OAOtBzB,EAAcyB,GAEdtB,EAAkBsB,EAAkBT,EAAYW,aAT1B,2CAAH,sDAWfC,EAAmB,uCAAG,4BAAAvD,EAAA,sEACItB,EAAY0E,gBAAgBI,YAAkBnB,GAAc,QADhE,OACpBe,EADoB,OAE1BzB,EAAc6B,YAAkBnB,IAChCT,EAAawB,GACbtB,EAAkBsB,EAAkBT,EAAY/B,WAJtB,2CAAH,qDAMnB6C,EAAkB,uCAAG,4BAAAzD,EAAA,sEACKtB,EAAY0E,gBAAgBb,EAAY,OAD7C,OACnBa,EADmB,OAEzBxB,EAAaW,GACbZ,EAAcyB,GACdtB,EAAkBS,EAAaI,EAAY/B,WAJlB,2CAAH,qDAMxB,OACE,kBAAC8C,EAAA,EAAD,KACE,kBAACzC,EAAD,MACA,kBAAC0C,EAAA,EAAD,CAAYzJ,MAAM,cAAc0J,MAAM,SAAShJ,QAAQ,KAAKiJ,cAAY,GAAxE,qBAIA,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,UACtB,kBAACC,EAAA,EAAD,CAAKC,MAAO,CAAEC,MAAO,UACnB,kBAAC1K,EAAA,EAAD,CAAOmB,QAAQ,SAASF,SAAS,UAAUwJ,MAAO,CAAEE,aAAc,SAChE,uCAAY,uBAAGC,KAAK,8BAA+BC,IAAI,sBAAsBC,OAAO,UAAxE,cAAZ,iFAEF,kBAACT,EAAA,EAAD,CAAMU,MAAI,EAACC,GAAI,GAAIC,GAAI,IACrB,kBAAC3J,EAAA,EAAD,KACE,kBAACkJ,EAAA,EAAD,CAAKU,GAAI,GACP,kBAACb,EAAA,EAAD,CAAMU,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIR,MAAO,CAAE5H,aAAc,KAChD,kBAAC2H,EAAA,EAAD,CAAKW,EAAG,GACN,kBAACd,EAAA,EAAD,CAAMC,WAAS,GACb,kBAACD,EAAA,EAAD,CAAMU,MAAI,EAACC,GAAI,IACb,kBAACI,EAAA,EAAD,CACEC,YAAavB,EACbwB,SAAU/B,EACVG,MAAOtC,EACPmE,IAAKxB,YAAkBnB,GACvBjC,OAAQ,UAGZ,kBAAC0D,EAAA,EAAD,CAAMU,MAAI,EAACC,GAAI,IACb,kBAACI,EAAA,EAAD,CACEC,YAAarB,EACbsB,SAAU1B,EACVF,MAAOvC,EACPoE,IAAKzC,EACLnC,OAAQ,SAGZ,kBAAC0D,EAAA,EAAD,CAAMU,MAAI,EAACC,GAAI,IACb,uCAAa7B,EAAb,QACA,sCAAYG,EAAZ,SACA,+CAAgBlB,EAAeW,QAAQ,KAEzC,kBAACsB,EAAA,EAAD,CAAMW,GAAI,GAAIQ,eAAe,SAASf,MAAO,CAAEgB,UAAW,WACvD/C,IAA2BlE,IAAcsB,SACxC,kBAAC4F,EAAA,EAAD,CACEvK,QAAQ,YACRe,QAAS,kBAAMgF,EAAmBC,EAAUwE,WAAYvE,EAAWuE,aACnElL,MAAM,UACNgK,MAAO,CAAEmB,OAAQ,SAAUnL,MAAO,SAJpC,UASA,kBAACiL,EAAA,EAAD,CACEvK,QAAQ,YACRe,QAAS,kBAAMyG,KACflI,MAAM,YACNgK,MAAO,CAAEmB,OAAQ,WAJnB,uB,iCCnI1B,oBASeC,IALI,WACjB,MAAuBC,qBAAWC,KAClC,MAAO,CAAEC,YADT,EAAQC,KACoBC,YAD5B,EAAcC,Q,iCCJhB,wGASO,SAAS/F,IAId,MAA6BmC,cAArB6D,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,QACXC,EAAWC,cAEjB,OAAOjG,uBACL,SACEG,GAEI,IAAD,yDADiG,GAAlGC,EACC,EADDA,QAASE,EACR,EADQA,SAEX,GAAKyF,GACAD,EAAL,CAEA,IAAQI,EAAS/F,EAAT+F,KACR,IAAKA,EACH,MAAMC,MAAM,8BAEdH,EAASnG,YAAe,CAAEqG,OAAMzH,KAAMsH,EAASD,UAASxF,WAAUF,gBAEpE,CAAC4F,EAAUF,EAASC,IAKjB,SAASK,IAAgE,IAAD,EACrEN,EAAY7D,cAAZ6D,QACFO,EAAQC,aAAgD,SAACD,GAAD,OAAWA,EAAME,gBAE/E,OAAOT,GAAO,UAAGO,EAAMP,UAAT,QAA0B,GAoBnC,SAAS9G,EAAsBuB,EAAkCC,GACtE,IAAMgG,EAAkBJ,IACxB,OAAO9G,mBACL,iBAC0B,kBAAjBiB,GACY,kBAAZC,GACPiG,OAAOC,KAAKF,GAAiBG,MAAK,SAACT,GACjC,IAAMU,EAAKJ,EAAgBN,GAC3B,IAAKU,EAAI,OAAO,EAChB,GAAIA,EAAGC,QACL,OAAO,EAEP,IAAMvG,EAAWsG,EAAGtG,SACpB,QAAKA,IACEA,EAASE,UAAYA,GAAWF,EAASC,eAAiBA,GAnBpE,SAA6BqG,GAClC,OAAO,IAAIE,MAAOC,UAAYH,EAAGI,UAAY,MAkB4CC,CAAoBL,SAG3G,CAACJ,EAAiBhG,EAASD,M,iCC7E/B,6BA2BeI,IAtBf,WACE,IAAMd,EAAiBC,cACjBoH,EAAWC,cAEjB,OAAOnH,uBACL,SAACoH,EAAuChH,GACtCgH,EACGC,MAAK,SAACT,GAAD,OAAQ/G,EAAe+G,EAAI,CAAExG,eAClCkH,OAAM,SAACC,GACN,IAAIA,EAAI/L,QAAQgM,SAAS,eAAzB,CAIA,IAAMhM,EAAO,oBAAgB4E,EAAQ,GAAGqH,eAA3B,OAA2CrH,EAAQsH,MAAM,IACtExH,QAAQ9G,MAAR,UAAiBoC,EAAjB,aAA6B+L,EAAI/L,SAAW+L,EAAII,QAChDT,EAAS,CAAE9N,MAAO,CAAEoC,UAASmM,MAAOJ,EAAI/L,SAAW+L,EAAII,eAG7D,CAACT,EAAUrH,M,4HCFT+H,EAAqBC,IAAOC,IAAV,8IAEF,SAACnO,GAAD,OAAWA,EAAMmC,MAAM3B,MAAM4N,KAAK,QACrC,SAACpO,GAAD,OAAWA,EAAMmC,MAAMS,gBAE3B,SAAC5C,GAAD,OAAWA,EAAMmC,MAAMkM,QAAQ,MAGxCC,EAAcJ,IAAOK,MAAV,8KAGN,SAACvO,GAAD,OAAWA,EAAMmC,MAAM3B,MAAM4N,KAAK,QAS9BI,EA9BqB,SAAC,GAAoE,IAAlEC,EAAiE,EAAjEA,aAAcpD,EAAmD,EAAnDA,SAAUqD,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,eAAgBlF,EAAY,EAAZA,MAC1F,OACE,kBAACwE,EAAD,OACKU,GAAkBA,EACrB,kBAACL,EAAD,CAAaI,YAAaA,EAAajF,MAAOA,EAAO4B,SAAUA,MAC5DoD,GAAgBA,IC4BnBG,EAAmBV,IAAOC,IAAV,0BAEhBU,EAAeX,IAAOC,IAAV,6CACP,SAACnO,GAAD,OAAWA,EAAMmC,MAAMkM,QAAQ,MAGpCS,EAA8BZ,IAAOC,IAAV,sEAK3BY,EAAgBb,IAAOC,IAAV,6KAER,SAACnO,GAAD,OAAWA,EAAMmC,MAAM3B,MAAM4N,KAAK,QAQ9BjD,EArD+B,SAAC,GAAmD,IAAjDG,EAAgD,EAAhDA,IAAK5E,EAA2C,EAA3CA,OAAQ2E,EAAmC,EAAnCA,SAAUD,EAAyB,EAAzBA,YAAa3B,EAAY,EAAZA,MACnF,OACE,kBAACmF,EAAD,KACE,kBAACG,EAAD,KACGzD,EAAI0D,iBADP,IAC0BtI,EAD1B,cAGA,kBAAC,EAAD,CACE+H,aACE,kBAACK,EAAD,KAEE,kBAACD,EAAD,MACA,6BACE,kBAACpD,EAAA,EAAD,CAAQ1J,KAAK,QAAQvB,MAAM,UAAUU,QAAQ,YAAYe,QAASmJ,GAAlE,SAMNC,SAAUA,EACVqD,YAAY,IACZjF,MAAOA,O,oFCTAhE,IAlBM,SAACP,EAAc2B,EAAiBzB,GACnD,MAAkC4C,mBAAoB,MAAtD,mBAAOiH,EAAP,KAAkBC,EAAlB,KACQ9C,EAAY9D,cAAZ8D,QAEF+C,EAAiB9I,sBAAW,sBAAC,4BAAAC,EAAA,sEACTpB,EAAM+J,UAAU7C,EAASvF,GADhB,OAC3BoI,EAD2B,OAEjCC,EAAaD,GAFoB,2CAGhC,CAAC7C,EAASvF,EAAS3B,IAQtB,OANAkK,qBAAU,WACJhD,GAAWvF,GAAW3B,GACxBiK,IAAiBxB,OAAM,SAACC,GAAD,OAASrH,QAAQ9G,MAAR,qCAA4CmO,EAAII,aAEjF,CAAC5B,EAASvF,EAAS3B,EAAOE,EAAiB+J,IAEvCF,I,uECXG1K,E,iEAHNC,EAAiBC,IAAOC,UAAUC,WAClCC,EAAsBC,IAAUC,KAAK,8B,SAE/BP,O,qBAAAA,I,+BAAAA,I,qBAAAA,I,wBAAAA,M,KA8CG8K,IAtCf,SAAoBnK,EAAc2B,GAChC,IAAMzB,EAAkBC,YAAsBH,EAAMI,QAASuB,GACvDrB,EAAmBC,YAAaP,EAAO2B,EAASzB,GAGhDM,EAA+BC,mBAAQ,WAE3C,OAAKH,EAGEA,EAAiBM,GAAGlB,GACvBQ,EACEb,EAAcwB,QACdxB,EAAcyB,aAChBzB,EAAcsB,SAPYtB,EAAc0B,UAQ3C,CAACT,EAAkBJ,IAEhBc,EAAiBC,cAEjBC,EAAUC,sBAAW,sBAAC,4BAAAC,EAAA,yDACtBZ,IAAkBnB,EAAcyB,aADV,uBAExBO,QAAQ9G,MAAM,oCAFU,0CAMHyF,EAAMkB,QAAQS,EAASrC,GANpB,OAMpBgC,EANoB,OAO1BN,EAAeM,EAAU,CACvBC,QAAQ,WAAD,OAAavB,EAAMwB,QAC1BC,SAAU,CACRC,aAAc1B,EAAMI,QACpBuB,QAASA,KAXa,2CAczB,CAACnB,EAAeR,EAAO2B,EAASX,IAEnC,MAAO,CAACR,EAAeU,K,6FC3BVoC,IApBM,WACnB,MAAwBR,qBAAxB,mBAAOsH,EAAP,KAAaC,EAAb,KACQxD,EAAgBH,cAAhBG,YACF/G,EAAcC,cAcpB,OAZAmK,qBAAU,WAAM,4CACd,sBAAA9I,EAAA,2EAEIiJ,EAFJ,SAEkBvK,EAAYwK,cAF9B,kFAKIjJ,QAAQ9G,MAAR,MALJ,0DADc,uBAAC,WAAD,wBASdgQ,KACC,CAACF,EAASvK,EAAa+G,IAEnBuD,I,6FCGMtG,IApBI,SAAC0G,GAClB,MAAwB1H,qBAAxB,mBAAOsH,EAAP,KAAaC,EAAb,KACQtD,EAAgBL,cAAhBK,YACFjH,EAAcC,cAcpB,OAZAmK,qBAAU,WAAM,4CACd,sBAAA9I,EAAA,2EAEIiJ,EAFJ,SAEkBvK,EAAY2K,UAAUD,GAFxC,kFAKInJ,QAAQ9G,MAAR,MALJ,0DADc,uBAAC,WAAD,wBASdmQ,KACC,CAACL,EAASvK,EAAaiH,EAAayD,IAEhCJ,I,oBCtBTO,EAAOC,QAAU,IAA0B","file":"static/js/17.cab4de3d.chunk.js","sourcesContent":["import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z\"\n}), 'SuccessOutlined');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z\"\n}), 'ReportProblemOutlined');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'ErrorOutline');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z\"\n}), 'InfoOutlined');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { withStyles, lighten, darken } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport SuccessOutlinedIcon from '../internal/svg-icons/SuccessOutlined';\nimport ReportProblemOutlinedIcon from '../internal/svg-icons/ReportProblemOutlined';\nimport ErrorOutlineIcon from '../internal/svg-icons/ErrorOutline';\nimport InfoOutlinedIcon from '../internal/svg-icons/InfoOutlined';\nimport CloseIcon from '../internal/svg-icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport { capitalize } from '@material-ui/core/utils';\nexport var styles = function styles(theme) {\n  var getColor = theme.palette.type === 'light' ? darken : lighten;\n  var getBackgroundColor = theme.palette.type === 'light' ? lighten : darken;\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.body2, {\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: 'transparent',\n      display: 'flex',\n      padding: '6px 16px'\n    }),\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"success\"`. */\n    standardSuccess: {\n      color: getColor(theme.palette.success.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.success.main, 0.9),\n      '& $icon': {\n        color: theme.palette.success.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"info\"`. */\n    standardInfo: {\n      color: getColor(theme.palette.info.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.info.main, 0.9),\n      '& $icon': {\n        color: theme.palette.info.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"warning\"`. */\n    standardWarning: {\n      color: getColor(theme.palette.warning.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.warning.main, 0.9),\n      '& $icon': {\n        color: theme.palette.warning.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"error\"`. */\n    standardError: {\n      color: getColor(theme.palette.error.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.error.main, 0.9),\n      '& $icon': {\n        color: theme.palette.error.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"success\"`. */\n    outlinedSuccess: {\n      color: getColor(theme.palette.success.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.success.main),\n      '& $icon': {\n        color: theme.palette.success.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"info\"`. */\n    outlinedInfo: {\n      color: getColor(theme.palette.info.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.info.main),\n      '& $icon': {\n        color: theme.palette.info.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"warning\"`. */\n    outlinedWarning: {\n      color: getColor(theme.palette.warning.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.warning.main),\n      '& $icon': {\n        color: theme.palette.warning.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"error\"`. */\n    outlinedError: {\n      color: getColor(theme.palette.error.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.error.main),\n      '& $icon': {\n        color: theme.palette.error.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"success\"`. */\n    filledSuccess: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.success.main\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"info\"`. */\n    filledInfo: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.info.main\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"warning\"`. */\n    filledWarning: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.warning.main\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"error\"`. */\n    filledError: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.error.main\n    },\n\n    /* Styles applied to the icon wrapper element. */\n    icon: {\n      marginRight: 12,\n      padding: '7px 0',\n      display: 'flex',\n      fontSize: 22,\n      opacity: 0.9\n    },\n\n    /* Styles applied to the message wrapper element. */\n    message: {\n      padding: '8px 0'\n    },\n\n    /* Styles applied to the action wrapper element if `action` is provided. */\n    action: {\n      display: 'flex',\n      alignItems: 'center',\n      marginLeft: 'auto',\n      paddingLeft: 16,\n      marginRight: -8\n    }\n  };\n};\nvar defaultIconMapping = {\n  success: /*#__PURE__*/React.createElement(SuccessOutlinedIcon, {\n    fontSize: \"inherit\"\n  }),\n  warning: /*#__PURE__*/React.createElement(ReportProblemOutlinedIcon, {\n    fontSize: \"inherit\"\n  }),\n  error: /*#__PURE__*/React.createElement(ErrorOutlineIcon, {\n    fontSize: \"inherit\"\n  }),\n  info: /*#__PURE__*/React.createElement(InfoOutlinedIcon, {\n    fontSize: \"inherit\"\n  })\n};\n\nvar _ref = /*#__PURE__*/React.createElement(CloseIcon, {\n  fontSize: \"small\"\n});\n\nvar Alert = /*#__PURE__*/React.forwardRef(function Alert(props, ref) {\n  var action = props.action,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$closeText = props.closeText,\n      closeText = _props$closeText === void 0 ? 'Close' : _props$closeText,\n      color = props.color,\n      icon = props.icon,\n      _props$iconMapping = props.iconMapping,\n      iconMapping = _props$iconMapping === void 0 ? defaultIconMapping : _props$iconMapping,\n      onClose = props.onClose,\n      _props$role = props.role,\n      role = _props$role === void 0 ? 'alert' : _props$role,\n      _props$severity = props.severity,\n      severity = _props$severity === void 0 ? 'success' : _props$severity,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'standard' : _props$variant,\n      other = _objectWithoutProperties(props, [\"action\", \"children\", \"classes\", \"className\", \"closeText\", \"color\", \"icon\", \"iconMapping\", \"onClose\", \"role\", \"severity\", \"variant\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    role: role,\n    square: true,\n    elevation: 0,\n    className: clsx(classes.root, classes[\"\".concat(variant).concat(capitalize(color || severity))], className),\n    ref: ref\n  }, other), icon !== false ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.icon\n  }, icon || iconMapping[severity] || defaultIconMapping[severity]) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.message\n  }, children), action != null ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.action\n  }, action) : null, action == null && onClose ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.action\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    size: \"small\",\n    \"aria-label\": closeText,\n    title: closeText,\n    color: \"inherit\",\n    onClick: onClose\n  }, _ref)) : null);\n});\nprocess.env.NODE_ENV !== \"production\" ? Alert.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display. It renders after the message, at the end of the alert.\n   */\n  action: PropTypes.node,\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Override the default label for the *close popup* icon button.\n   *\n   * For localization purposes, you can use the provided [translations](/guides/localization/).\n   */\n  closeText: PropTypes.string,\n\n  /**\n   * The main color for the alert. Unless provided, the value is taken from the `severity` prop.\n   */\n  color: PropTypes.oneOf(['error', 'info', 'success', 'warning']),\n\n  /**\n   * Override the icon displayed before the children.\n   * Unless provided, the icon is mapped to the value of the `severity` prop.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * The component maps the `severity` prop to a range of different icons,\n   * for instance success to `<SuccessOutlined>`.\n   * If you wish to change this mapping, you can provide your own.\n   * Alternatively, you can use the `icon` prop to override the icon displayed.\n   */\n  iconMapping: PropTypes.shape({\n    error: PropTypes.node,\n    info: PropTypes.node,\n    success: PropTypes.node,\n    warning: PropTypes.node\n  }),\n\n  /**\n   * Callback fired when the component requests to be closed.\n   * When provided and no `action` prop is set, a close icon button is displayed that triggers the callback when clicked.\n   *\n   * @param {object} event The event source of the callback.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * The ARIA role attribute of the element.\n   */\n  role: PropTypes.string,\n\n  /**\n   * The severity of the alert. This defines the color and icon used.\n   */\n  severity: PropTypes.oneOf(['error', 'info', 'success', 'warning']),\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['filled', 'outlined', 'standard'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAlert'\n})(Alert);","import { BigNumber, ethers } from 'ethers';\nimport { useCallback, useMemo } from 'react';\nimport { useHasPendingApproval, useTransactionAdder } from '../state/transactions/hooks';\nimport useAllowance from './useAllowance';\nimport ERC20 from '../tomb-finance/ERC20';\nimport { TAX_OFFICE_ADDR } from '../utils/constants';\nimport useTombFinance from './useTombFinance';\n\nconst APPROVE_AMOUNT = ethers.constants.MaxUint256;\nconst APPROVE_BASE_AMOUNT = BigNumber.from('1000000000000000000000000');\n\nexport enum ApprovalState {\n  UNKNOWN,\n  NOT_APPROVED,\n  PENDING,\n  APPROVED,\n}\n\n// returns a variable indicating the state of the approval and a function which approves if necessary or early returns\nfunction useApproveTaxOffice(): [ApprovalState, () => Promise<void>] {\n  const tombFinance = useTombFinance();\n  let token: ERC20 = tombFinance.TOMB;\n  // if (zappingToken === FTM_TICKER) token = tombFinance.FTM;\n  // else if (zappingToken === TOMB_TICKER) token = tombFinance.TOMB;\n  // else if (zappingToken === TSHARE_TICKER) token = tombFinance.TSHARE;\n  const pendingApproval = useHasPendingApproval(token.address, TAX_OFFICE_ADDR);\n  const currentAllowance = useAllowance(token, TAX_OFFICE_ADDR, pendingApproval);\n\n  // check the current approval status\n  const approvalState: ApprovalState = useMemo(() => {\n    // we might not have enough data to know whether or not we need to approve\n    if (token === tombFinance.FTM) return ApprovalState.APPROVED;\n    if (!currentAllowance) return ApprovalState.UNKNOWN;\n\n    // amountToApprove will be defined if currentAllowance is\n    return currentAllowance.lt(APPROVE_BASE_AMOUNT)\n      ? pendingApproval\n        ? ApprovalState.PENDING\n        : ApprovalState.NOT_APPROVED\n      : ApprovalState.APPROVED;\n  }, [currentAllowance, pendingApproval, token, tombFinance]);\n\n  const addTransaction = useTransactionAdder();\n\n  const approve = useCallback(async (): Promise<void> => {\n    if (approvalState !== ApprovalState.NOT_APPROVED) {\n      console.error('approve was called unnecessarily');\n      return;\n    }\n\n    const response = await token.approve(TAX_OFFICE_ADDR, APPROVE_AMOUNT);\n    addTransaction(response, {\n      summary: `Approve ${token.symbol}`,\n      approval: {\n        tokenAddress: token.address,\n        spender: TAX_OFFICE_ADDR,\n      },\n    });\n  }, [approvalState, token, addTransaction]);\n\n  return [approvalState, approve];\n}\n\nexport default useApproveTaxOffice;\n","import { useCallback } from 'react';\nimport useTombFinance from './useTombFinance';\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\nimport { parseUnits } from 'ethers/lib/utils';\nimport { TAX_OFFICE_ADDR } from './../utils/constants'\n\nconst useProvideTombFtmLP = () => {\n  const tombFinance = useTombFinance();\n  const handleTransactionReceipt = useHandleTransactionReceipt();\n\n  const handleProvideTombFtmLP = useCallback(\n    (ftmAmount: string, tombAmount: string) => {\n      const tombAmountBn = parseUnits(tombAmount);\n      handleTransactionReceipt(\n        tombFinance.provideTombFtmLP(ftmAmount, tombAmountBn),\n        `Provide Tomb-FTM LP ${tombAmount} ${ftmAmount} using ${TAX_OFFICE_ADDR}`,\n      );\n    },\n    [tombFinance, handleTransactionReceipt],\n  );\n  return { onProvideTombFtmLP: handleProvideTombFtmLP };\n};\n\nexport default useProvideTombFtmLP;\n","import React, { useMemo, useState } from 'react';\nimport Page from '../../components/Page';\nimport { createGlobalStyle } from 'styled-components';\nimport HomeImage from '../../assets/img/home.png';\nimport useLpStats from '../../hooks/useLpStats';\nimport { Box, Button, Grid, Paper, Typography } from '@material-ui/core';\nimport useTombStats from '../../hooks/useTombStats';\nimport TokenInput from '../../components/TokenInput';\nimport useTombFinance from '../../hooks/useTombFinance';\nimport { useWallet } from 'use-wallet';\nimport useTokenBalance from '../../hooks/useTokenBalance';\nimport { getDisplayBalance } from '../../utils/formatBalance';\nimport useApproveTaxOffice from '../../hooks/useApproveTaxOffice';\nimport { ApprovalState } from '../../hooks/useApprove';\nimport useProvideTombFtmLP from '../../hooks/useProvideTombFtmLP';\nimport { Alert } from '@material-ui/lab';\n\nconst BackgroundImage = createGlobalStyle`\n  body {\n    background: url(${HomeImage}) no-repeat !important;\n    background-size: cover !important;\n  }\n`;\nfunction isNumeric(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\n\nconst ProvideLiquidity = () => {\n  const [tombAmount, setTombAmount] = useState(0);\n  const [ftmAmount, setFtmAmount] = useState(0);\n  const [lpTokensAmount, setLpTokensAmount] = useState(0);\n  const { balance } = useWallet();\n  const tombStats = useTombStats();\n  const tombFinance = useTombFinance();\n  const [approveTaxOfficeStatus, approveTaxOffice] = useApproveTaxOffice();\n  const tombBalance = useTokenBalance(tombFinance.TOMB);\n  const ftmBalance = (balance / 1e18).toFixed(4);\n  const { onProvideTombFtmLP } = useProvideTombFtmLP();\n  const tombFtmLpStats = useLpStats('TOMB-FTM-LP');\n\n  const tombLPStats = useMemo(() => (tombFtmLpStats ? tombFtmLpStats : null), [tombFtmLpStats]);\n  const tombPriceInFTM = useMemo(() => (tombStats ? Number(tombStats.tokenInFtm).toFixed(2) : null), [tombStats]);\n  const ftmPriceInTOMB = useMemo(() => (tombStats ? Number(1 / tombStats.tokenInFtm).toFixed(2) : null), [tombStats]);\n  // const classes = useStyles();\n\n  const handleTombChange = async (e) => {\n    if (e.currentTarget.value === '' || e.currentTarget.value === 0) {\n      setTombAmount(e.currentTarget.value);\n    }\n    if (!isNumeric(e.currentTarget.value)) return;\n    setTombAmount(e.currentTarget.value);\n    const quoteFromSpooky = await tombFinance.quoteFromSpooky(e.currentTarget.value, 'TOMB');\n    setFtmAmount(quoteFromSpooky);\n    setLpTokensAmount(quoteFromSpooky / tombLPStats.ftmAmount);\n  };\n\n  const handleFtmChange = async (e) => {\n    if (e.currentTarget.value === '' || e.currentTarget.value === 0) {\n      setFtmAmount(e.currentTarget.value);\n    }\n    if (!isNumeric(e.currentTarget.value)) return;\n    setFtmAmount(e.currentTarget.value);\n    const quoteFromSpooky = await tombFinance.quoteFromSpooky(e.currentTarget.value, 'FTM');\n    setTombAmount(quoteFromSpooky);\n\n    setLpTokensAmount(quoteFromSpooky / tombLPStats.tokenAmount);\n  };\n  const handleTombSelectMax = async () => {\n    const quoteFromSpooky = await tombFinance.quoteFromSpooky(getDisplayBalance(tombBalance), 'TOMB');\n    setTombAmount(getDisplayBalance(tombBalance));\n    setFtmAmount(quoteFromSpooky);\n    setLpTokensAmount(quoteFromSpooky / tombLPStats.ftmAmount);\n  };\n  const handleFtmSelectMax = async () => {\n    const quoteFromSpooky = await tombFinance.quoteFromSpooky(ftmBalance, 'FTM');\n    setFtmAmount(ftmBalance);\n    setTombAmount(quoteFromSpooky);\n    setLpTokensAmount(ftmBalance / tombLPStats.ftmAmount);\n  };\n  return (\n    <Page>\n      <BackgroundImage />\n      <Typography color=\"textPrimary\" align=\"center\" variant=\"h3\" gutterBottom>\n        Provide Liquidity\n      </Typography>\n\n      <Grid container justify=\"center\">\n        <Box style={{ width: '600px' }}>\n          <Alert variant=\"filled\" severity=\"warning\" style={{ marginBottom: '10px' }}>\n            <b>This and <a href=\"https://spookyswap.finance/\"  rel=\"noopener noreferrer\" target=\"_blank\">Spookyswap</a> are the only ways to provide Liquidity on TOMB-FTM pair without paying tax.</b>\n          </Alert>\n          <Grid item xs={12} sm={12}>\n            <Paper>\n              <Box mt={4}>\n                <Grid item xs={12} sm={12} style={{ borderRadius: 15 }}>\n                  <Box p={4}>\n                    <Grid container>\n                      <Grid item xs={12}>\n                        <TokenInput\n                          onSelectMax={handleTombSelectMax}\n                          onChange={handleTombChange}\n                          value={tombAmount}\n                          max={getDisplayBalance(tombBalance)}\n                          symbol={'TOMB'}\n                        ></TokenInput>\n                      </Grid>\n                      <Grid item xs={12}>\n                        <TokenInput\n                          onSelectMax={handleFtmSelectMax}\n                          onChange={handleFtmChange}\n                          value={ftmAmount}\n                          max={ftmBalance}\n                          symbol={'FTM'}\n                        ></TokenInput>\n                      </Grid>\n                      <Grid item xs={12}>\n                        <p>1 TOMB = {tombPriceInFTM} FTM</p>\n                        <p>1 FTM = {ftmPriceInTOMB} TOMB</p>\n                        <p>LP tokens ≈ {lpTokensAmount.toFixed(2)}</p>\n                      </Grid>\n                      <Grid xs={12} justifyContent=\"center\" style={{ textAlign: 'center' }}>\n                        {approveTaxOfficeStatus === ApprovalState.APPROVED ? (\n                          <Button\n                            variant=\"contained\"\n                            onClick={() => onProvideTombFtmLP(ftmAmount.toString(), tombAmount.toString())}\n                            color=\"primary\"\n                            style={{ margin: '0 10px', color: '#fff' }}\n                          >\n                            Supply\n                          </Button>\n                        ) : (\n                          <Button\n                            variant=\"contained\"\n                            onClick={() => approveTaxOffice()}\n                            color=\"secondary\"\n                            style={{ margin: '0 10px' }}\n                          >\n                            Approve\n                          </Button>\n                        )}\n                      </Grid>\n                    </Grid>\n                  </Box>\n                </Grid>\n              </Box>\n            </Paper>\n          </Grid>\n        </Box>\n      </Grid>\n    </Page>\n  );\n};\n\nexport default ProvideLiquidity;\n","import { useContext } from 'react'\nimport { RefreshContext } from './../contexts/RefreshContext'\n\n\nconst useRefresh = () => {\n  const { fast, slow } = useContext(RefreshContext)\n  return { fastRefresh: fast, slowRefresh: slow }\n}\n\nexport default useRefresh","import { TransactionResponse } from '@ethersproject/providers';\nimport { useCallback, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useWallet } from 'use-wallet';\n\nimport { AppDispatch, AppState } from '../index';\nimport { addTransaction, clearAllTransactions } from './actions';\nimport { TransactionDetails } from './reducer';\n\n// helper that can take a ethers library transaction response and add it to the list of transactions\nexport function useTransactionAdder(): (\n  response: TransactionResponse,\n  customData?: { summary?: string; approval?: { tokenAddress: string; spender: string } },\n) => void {\n  const { chainId, account } = useWallet();\n  const dispatch = useDispatch<AppDispatch>();\n\n  return useCallback(\n    (\n      response: TransactionResponse,\n      { summary, approval }: { summary?: string; approval?: { tokenAddress: string; spender: string } } = {},\n    ) => {\n      if (!account) return;\n      if (!chainId) return;\n\n      const { hash } = response;\n      if (!hash) {\n        throw Error('No transaction hash found.');\n      }\n      dispatch(addTransaction({ hash, from: account, chainId, approval, summary }));\n    },\n    [dispatch, chainId, account],\n  );\n}\n\n// returns all the transactions for the current chain\nexport function useAllTransactions(): { [txHash: string]: TransactionDetails } {\n  const { chainId } = useWallet();\n  const state = useSelector<AppState, AppState['transactions']>((state) => state.transactions);\n\n  return chainId ? state[chainId] ?? {} : {};\n}\n\nexport function useIsTransactionPending(transactionHash?: string): boolean {\n  const transactions = useAllTransactions();\n  if (!transactionHash || !transactions[transactionHash]) {\n    return false;\n  }\n  return !transactions[transactionHash].receipt;\n}\n\n/**\n * Returns whether a transaction happened in the last day (86400 seconds * 1000 milliseconds / second)\n * @param tx to check for recency\n */\nexport function isTransactionRecent(tx: TransactionDetails): boolean {\n  return new Date().getTime() - tx.addedTime < 86_400_000;\n}\n\n// returns whether a token has a pending approval transaction\nexport function useHasPendingApproval(tokenAddress: string | undefined, spender: string | undefined): boolean {\n  const allTransactions = useAllTransactions();\n  return useMemo(\n    () =>\n      typeof tokenAddress === 'string' &&\n      typeof spender === 'string' &&\n      Object.keys(allTransactions).some((hash) => {\n        const tx = allTransactions[hash];\n        if (!tx) return false;\n        if (tx.receipt) {\n          return false;\n        } else {\n          const approval = tx.approval;\n          if (!approval) return false;\n          return approval.spender === spender && approval.tokenAddress === tokenAddress && isTransactionRecent(tx);\n        }\n      }),\n    [allTransactions, spender, tokenAddress],\n  );\n}\n\nexport function useClearAllTransactions(): { clearAllTransactions: () => void } {\n  const { chainId } = useWallet();\n  const dispatch = useDispatch<AppDispatch>();\n  return {\n    clearAllTransactions: useCallback(() => dispatch(clearAllTransactions({ chainId })), [dispatch, chainId]),\n  };\n}\n","import { useCallback } from 'react';\nimport { TransactionResponse } from '@ethersproject/providers';\nimport { useTransactionAdder } from '../state/transactions/hooks';\nimport { useAddPopup } from '../state/application/hooks';\n\nfunction useHandleTransactionReceipt(): (promise: Promise<TransactionResponse>, summary: string) => void {\n  const addTransaction = useTransactionAdder();\n  const addPopup = useAddPopup();\n\n  return useCallback(\n    (promise: Promise<TransactionResponse>, summary: string) => {\n      promise\n        .then((tx) => addTransaction(tx, { summary }))\n        .catch((err) => {\n          if (err.message.includes('User denied')) {\n            // User denied transaction signature on MetaMask.\n            return;\n          }\n          const message = `Unable to ${summary[0].toLowerCase()}${summary.slice(1)}`;\n          console.error(`${message}: ${err.message || err.stack}`);\n          addPopup({ error: { message, stack: err.message || err.stack } });\n        });\n    },\n    [addPopup, addTransaction],\n  );\n}\n\nexport default useHandleTransactionReceipt;\n","import React from 'react';\nimport styled from 'styled-components';\n\nexport interface InputProps {\n  endAdornment?: React.ReactNode;\n  onChange: (e: React.FormEvent<HTMLInputElement>) => void;\n  placeholder?: string;\n  startAdornment?: React.ReactNode;\n  value: string;\n}\n\nconst Input: React.FC<InputProps> = ({ endAdornment, onChange, placeholder, startAdornment, value }) => {\n  return (\n    <StyledInputWrapper>\n      {!!startAdornment && startAdornment}\n      <StyledInput placeholder={placeholder} value={value} onChange={onChange} />\n      {!!endAdornment && endAdornment}\n    </StyledInputWrapper>\n  );\n};\n\nconst StyledInputWrapper = styled.div`\n  align-items: center;\n  background-color: ${(props) => props.theme.color.grey[200]};\n  border-radius: ${(props) => props.theme.borderRadius}px;\n  display: flex;\n  padding: 0 ${(props) => props.theme.spacing[3]}px;\n`;\n\nconst StyledInput = styled.input`\n  background: none;\n  border: 0;\n  color: ${(props) => props.theme.color.grey[600]};\n  font-size: 18px;\n  flex: 1;\n  height: 56px;\n  margin: 0;\n  padding: 0;\n  outline: none;\n`;\n\nexport default Input;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { Button } from '@material-ui/core';\nimport Input, { InputProps } from '../Input';\n\ninterface TokenInputProps extends InputProps {\n  max: number | string;\n  symbol: string;\n  onSelectMax?: () => void;\n}\n\nconst TokenInput: React.FC<TokenInputProps> = ({ max, symbol, onChange, onSelectMax, value }) => {\n  return (\n    <StyledTokenInput>\n      <StyledMaxText>\n        {max.toLocaleString()} {symbol} Available\n      </StyledMaxText>\n      <Input\n        endAdornment={\n          <StyledTokenAdornmentWrapper>\n            {/* <StyledTokenSymbol>{symbol}</StyledTokenSymbol> */}\n            <StyledSpacer />\n            <div>\n              <Button size=\"small\" color=\"primary\" variant=\"contained\" onClick={onSelectMax}>\n                Max\n              </Button>\n            </div>\n          </StyledTokenAdornmentWrapper>\n        }\n        onChange={onChange}\n        placeholder=\"0\"\n        value={value}\n      />\n    </StyledTokenInput>\n  );\n};\n\n/*\n            <div>\n              <Button size=\"sm\" text=\"Max\" />\n            </div>\n*/\n\nconst StyledTokenInput = styled.div``;\n\nconst StyledSpacer = styled.div`\n  width: ${(props) => props.theme.spacing[3]}px;\n`;\n\nconst StyledTokenAdornmentWrapper = styled.div`\n  align-items: center;\n  display: flex;\n`;\n\nconst StyledMaxText = styled.div`\n  align-items: center;\n  color: ${(props) => props.theme.color.grey[400]};\n  display: flex;\n  font-size: 14px;\n  font-weight: 700;\n  height: 44px;\n  justify-content: flex-end;\n`;\n\nexport default TokenInput;\n","import { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\nimport { BigNumber } from 'ethers';\nimport ERC20 from '../tomb-finance/ERC20';\n\nconst useAllowance = (token: ERC20, spender: string, pendingApproval?: boolean) => {\n  const [allowance, setAllowance] = useState<BigNumber>(null);\n  const { account } = useWallet();\n\n  const fetchAllowance = useCallback(async () => {\n    const allowance = await token.allowance(account, spender);\n    setAllowance(allowance);\n  }, [account, spender, token]);\n\n  useEffect(() => {\n    if (account && spender && token) {\n      fetchAllowance().catch((err) => console.error(`Failed to fetch allowance: ${err.stack}`));\n    }\n  }, [account, spender, token, pendingApproval, fetchAllowance]);\n\n  return allowance;\n};\n\nexport default useAllowance;\n","import { BigNumber, ethers } from 'ethers';\nimport { useCallback, useMemo } from 'react';\nimport { useHasPendingApproval, useTransactionAdder } from '../state/transactions/hooks';\nimport useAllowance from './useAllowance';\nimport ERC20 from '../tomb-finance/ERC20';\n\nconst APPROVE_AMOUNT = ethers.constants.MaxUint256;\nconst APPROVE_BASE_AMOUNT = BigNumber.from('1000000000000000000000000');\n\nexport enum ApprovalState {\n  UNKNOWN,\n  NOT_APPROVED,\n  PENDING,\n  APPROVED,\n}\n\n// returns a variable indicating the state of the approval and a function which approves if necessary or early returns\nfunction useApprove(token: ERC20, spender: string): [ApprovalState, () => Promise<void>] {\n  const pendingApproval = useHasPendingApproval(token.address, spender);\n  const currentAllowance = useAllowance(token, spender, pendingApproval);\n\n  // check the current approval status\n  const approvalState: ApprovalState = useMemo(() => {\n    // we might not have enough data to know whether or not we need to approve\n    if (!currentAllowance) return ApprovalState.UNKNOWN;\n\n    // amountToApprove will be defined if currentAllowance is\n    return currentAllowance.lt(APPROVE_BASE_AMOUNT)\n      ? pendingApproval\n        ? ApprovalState.PENDING\n        : ApprovalState.NOT_APPROVED\n      : ApprovalState.APPROVED;\n  }, [currentAllowance, pendingApproval]);\n\n  const addTransaction = useTransactionAdder();\n\n  const approve = useCallback(async (): Promise<void> => {\n    if (approvalState !== ApprovalState.NOT_APPROVED) {\n      console.error('approve was called unnecessarily');\n      return;\n    }\n\n    const response = await token.approve(spender, APPROVE_AMOUNT);\n    addTransaction(response, {\n      summary: `Approve ${token.symbol}`,\n      approval: {\n        tokenAddress: token.address,\n        spender: spender,\n      },\n    });\n  }, [approvalState, token, spender, addTransaction]);\n\n  return [approvalState, approve];\n}\n\nexport default useApprove;\n","import { useEffect, useState } from 'react';\nimport useTombFinance from './useTombFinance';\nimport { TokenStat } from '../tomb-finance/types';\nimport useRefresh from './useRefresh';\n\nconst useTombStats = () => {\n  const [stat, setStat] = useState<TokenStat>();\n  const { fastRefresh } = useRefresh();\n  const tombFinance = useTombFinance();\n\n  useEffect(() => {\n    async function fetchTombPrice(){\n      try {\n        setStat(await tombFinance.getTombStat());\n      }\n      catch(err){\n        console.error(err)\n      }\n    }\n    fetchTombPrice();\n  }, [setStat, tombFinance, fastRefresh]);\n\n  return stat;\n};\n\nexport default useTombStats;\n","import { useEffect, useState } from 'react';\nimport useTombFinance from './useTombFinance';\nimport { LPStat } from '../tomb-finance/types';\nimport useRefresh from './useRefresh';\n\nconst useLpStats = (lpTicker: string) => {\n  const [stat, setStat] = useState<LPStat>();\n  const { slowRefresh } = useRefresh();\n  const tombFinance = useTombFinance();\n\n  useEffect(() => {\n    async function fetchLpPrice() {\n      try{\n        setStat(await tombFinance.getLPStat(lpTicker));\n      }\n      catch(err){\n        console.error(err);\n      }\n    }\n    fetchLpPrice();\n  }, [setStat, tombFinance, slowRefresh, lpTicker]);\n\n  return stat;\n};\n\nexport default useLpStats;\n","module.exports = __webpack_public_path__ + \"static/media/home.87c905bf.png\";"],"sourceRoot":""}